{% extends 'base.html' %}
{% load static %}

{% block title %}Cadastrar Colaborador{% endblock %}


{% block content %}
    
    <div id="feedbackData" 
         data-success-message="{{ success_message|default:'' }}"
         data-error-message="{{ error_message|default:'' }}"
    ></div>

    
    <div class="page-header">
        <h1>Cadastrar Colaborador</h1>
        
        <a href="{% url 'index' %}" class="btn-submit" style="background-color: #718096; color: #FFF;">
            <svg class="icon"><use href="#icon-arrow-left"></use></svg>
            Voltar para Lista
        </a>
    </div>

    <div class="form-card">
        
        <form method="POST" action="">
            
            {% csrf_token %} 
            {% if form.non_field_errors %}
            <div class="alert alert-danger">
                <strong>Erro ao salvar:</strong>
                {{ form.non_field_errors }}
            </div>
            {% endif %}

            <div class="form-group">
            <label for="{{ form.nome_completo.id_for_label }}">Nome Completo <span class="required">*</span></label>
                {{ form.nome_completo }}
            </div>

            <div class="form-group">
            <label for="{{ form.matricula.id_for_label }}">Matrícula <span class="required">*</span></label>
                {{ form.matricula }}
                {% if form.matricula.errors %}
                    <div class="alert alert-danger" style="padding: 10px; margin-top: 10px;">
                        {{ form.matricula.errors.as_text }}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
            <label for="{{ form.funcao.id_for_label }}">Função <span class="required">*</span></label>
                {{ form.funcao }}   
                <datalist id="lista-funcoes">
                    {% for funcao in sugestoes_funcoes %}
                        <option value="{{ funcao }}">
                    {% endfor %}
                </datalist>
            </div>

            <div class="form-group">
            <label for="{{ form.status.id_for_label }}">Status <span class="required">*</span></label>
                {{ form.status }}
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-submit">
                    <svg class="icon"><use href="#icon-save"></use></svg>
                    Salvar Colaborador
                </button>
            </div>
        </form>
    </div>


    <div id="feedbackModalBackdrop" class="modal-backdrop" style="display: none;"></div>
    
    <div id="feedbackModal" class="modal" style="display: none;">
        
        <div class="modal-header" id="feedbackModalHeader">
            <h3 id="feedbackModalTitle"></h3>
            <button class="modal-close" id="feedbackModalCloseBtn">&times;</button>
        </div>
        
        <div class="modal-body">
            <p id="feedbackModalBody"></p>
        </div>
        
        <div class="modal-footer">
            <button class="btn-secondary" id="feedbackModalOkBtn">OK</button>
        </div>
    </div>

{% endblock %}